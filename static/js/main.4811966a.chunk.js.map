{"version":3,"sources":["components/view-button/viewButton.module.scss","components/cart-button/CartButton.module.scss","components/header/Header.module.scss","components/pizzaList/PizzaList.module.scss","views/CartView.module.scss","components/context/cart-context.js","components/cart-button/CartButton.jsx","components/header/Header.jsx","components/pizzaItem/PizzaItem.jsx","components/pizzaList/PizzaList.jsx","components/view-button/ViewButton.jsx","request.js","views/CartView.jsx","components/pizzaOrdering/PizzaOrdering.jsx","views/MainView.jsx","index.js","components/pizzaItem/PizzaItem.module.scss"],"names":["module","exports","CartContext","React","createContext","StateProvider","children","useReducer","state","action","arrEl","type","orders","find","elem","name","newPizza","price","console","log","pizzas","filter","pizza","quantity","undefined","id","pizzaRemove","item","dispatch","Provider","value","CartButton","useContext","className","styles","container","to","counter","length","Header","title","header_container","header_title","PizzaItem","img","desc","priceBig","priceSmall","grid","isShopCard","handleClick","uuidv4","pizza_box","pizza_image","src","alt","pizza_wrapper","pizza_name","pizza_descr","pizza_size","onClick","removeOrder","delete","size_button","a","fetch","response","status","json","pizzaMenu","map","metadata","image","pizzaName","description","Math","round","prices","PizzaList","isGrid","useState","list","setList","useEffect","getMenu","then","el","index","viewButton","viewButtonImg","setIsGrid","button_wrapper","view_button","postOrders","data","method","body","JSON","stringify","CartView","listContainer","order","reduce","prevValue","currValue","PizzaOrdering","ViewButton","path","exact","MainView","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.4811966a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button_wrapper\":\"viewButton_button_wrapper__sVCEO\",\"view_button\":\"viewButton_view_button__2JBhZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CartButton_container__2l0Bo\",\"counter\":\"CartButton_counter__3RAZe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_container\":\"Header_header_container__11p6_\",\"header_title\":\"Header_header_title__1KndY\",\"header_image\":\"Header_header_image__3Jo3Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PizzaList_container__3aN_V\",\"grid\":\"PizzaList_grid__pBcOr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listContainer\":\"CartView_listContainer__2dv0D\",\"grid\":\"CartView_grid__2_FsT\"};","import React, { useReducer } from \"react\";\n\nconst CartContext = React.createContext();\n\nconst StateProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(\n    (state, action) => {\n  let arrEl;\n      switch (action.type) {\n        case \"addPizza\":\n          arrEl =state.orders.find(elem =>\n            elem.name === action.newPizza.name &&\n            elem.price === action.newPizza.price\n          )\n          if(arrEl){\n            console.log(\"add\",state)\n            const pizzas =state.orders.filter((pizza ) => pizza.name !== arrEl.name)\n            return {...state, orders: [...pizzas, {...arrEl, quantity: arrEl.quantity + 1}]};\n          }\n            return { ...state, orders: [...state.orders, action.newPizza] };\n        case \"removePizza\":\n          arrEl = state.orders.find(elem =>\n            elem.id === action.pizzaRemove.id &&\n            elem.quantity >1\n          )\n            if(arrEl !== undefined){\n            // arrEl.quantity--;\n            console.log(\"remove\",state)\n            const pizzas =state.orders.filter((pizza ) => pizza.name !== arrEl.name)\n            return {...state, orders: [...pizzas, {...arrEl, quantity: arrEl.quantity -1}]};\n            }\n          return {\n            ...state,\n            orders: state.orders.filter(\n              (item) => item.id !== action.pizzaRemove.id\n            ),\n          };\n        default:\n          return state;\n      }\n    },\n    {\n      orders: [],\n    }\n  );\n  return (\n    <CartContext.Provider value={{ state, dispatch }}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport { StateProvider, CartContext };\n","import React, { useContext } from \"react\";\nimport styles from \"./CartButton.module.scss\";\nimport { GrCart } from \"react-icons/gr\";\nimport { CartContext } from \"../context/cart-context\";\nimport { Link } from \"react-router-dom\";\n\nconst CartButton = () => {\n  const { state } = useContext(CartContext);\n\n  return (\n    <div className={styles.container}>\n      <Link to=\"/cart\">\n        <GrCart />\n        <p className={styles.counter}>{state.orders.length}</p>\n      </Link>\n    </div>\n  );\n};\n\nexport default CartButton;\n","import React from \"react\";\nimport styles from \"./Header.module.scss\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header({ title }) {\n  return (\n    <Link to=\"/\">\n      <div className={styles.header_container}>\n        <h2 className={styles.header_title}>{title}</h2>\n      </div>\n    </Link>\n  );\n}\n\nexport default Header;\n","import React, { useContext } from \"react\";\nimport styles from \"./PizzaItem.module.scss\";\nimport { CartContext } from \"../context/cart-context\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nfunction PizzaItem({\n  img,\n  name,\n  desc,\n  priceBig,\n  priceSmall,\n  grid,\n  price,\n  id,\n  isShopCard,\n  quantity\n}) {\n  // window.addEventListener(\"popstate\", () => {\n  //   console.log(window.location.pathnam);\n  // });\n\n  const { dispatch } = useContext(CartContext);\n  const handleClick = (desc, img, name, price) =>\n{\n  // debugger;\n  dispatch({\n      type: \"addPizza\",\n      newPizza: {\n        name,\n        desc,\n        img,\n       price,\n       quantity: 1,\n        id: uuidv4(),\n      },\n    })\n  };\n\n  const removeOrder = ({id, name, price}) => {\n    dispatch({\n      type: \"removePizza\",\n      pizzaRemove: {\n        id,\n        name,\n        price\n      }\n    });\n  };\n  return (\n    <div\n      className={grid ? `${styles.grid} ${styles.pizza_box}` : styles.pizza_box}\n    >\n      <img className={styles.pizza_image} src={img} alt=\"asd\" title=\"tytul\" />\n      <div className={styles.pizza_wrapper}>\n        <h3 className={styles.pizza_name}>{name}</h3>\n        <p className={styles.pizza_descr}>{desc}</p>\n      </div>\n      <div className={styles.pizza_size}>\n        {isShopCard === true ? (\n          <>\n            <button onClick={() => removeOrder({id, name, price})} className={styles.delete}>\n              {quantity} {price}\n              <br />X\n            </button>\n          </>\n        ) : (\n          <>\n            <button\n              className={styles.size_button}\n              onClick={() => handleClick(desc, img, name, priceSmall)}\n            >\n              {priceSmall}zł\n            </button>\n            <button\n              className={styles.size_button}\n              onClick={() => handleClick(desc, img, name, priceBig)}\n            >\n              {priceBig}zł\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default PizzaItem;\n","import React, {useState, useEffect} from 'react';\nimport PizzaItem from '../pizzaItem/PizzaItem';\n// import pizzaData from '../../pizzas.json';\nimport styles from './PizzaList.module.scss'\n\nasync function getMenu() {\n const response = await fetch(\"https://pizzaportal.azurewebsites.net/api/GetMenu\")\n if(response.status === 200){\n\n  const pizzaMenu = await response.json();\n\n return pizzaMenu.map((pizza) => {\n    return {\n     img: pizza.metadata.image,\n     name: pizza.pizzaName,\n     desc: pizza.metadata.description,\n     priceBig: Math.round(pizza.prices.find(pizza=>pizza.type ==='big').price * 100) / 100,\n     priceSmall: Math.round(pizza.prices.find(pizza=>pizza.type ==='small').price * 100) / 100,\n     id: pizza.id\n  }\n})\n }\n\n console.log(response)\n return[];\n}\n\n\nconst PizzaList =  ({isGrid}) => {\nconst [list, setList] = useState([])\n useEffect(() => {\n  getMenu().then(response=> setList(response))\n  }, []);\n  return (\n    <div className={(isGrid)?`${styles.grid} grid`:styles.container}>\n        {list.map((el, index) => (\n          <PizzaItem key={index} {...((isGrid)?{grid:true}:{})} {...el}/>\n        ))}\n    </div>\n  );\n};\n\nexport default PizzaList;\n","import React from \"react\";\nimport styles from \"./viewButton.module.scss\";\nimport { ImList, ImTable2 } from \"react-icons/im\";\n\nconst viewButton = ({ viewButtonImg, setIsGrid, isGrid }) => {\n  return (\n    <div className={styles.button_wrapper}>\n      <button\n        className={styles.view_button}\n        onClick={() => {\n          setIsGrid(false);\n        }}\n      >\n        <ImList />\n      </button>\n      <button\n        className={styles.view_button}\n        onClick={() => {\n          setIsGrid(true);\n        }}\n      >\n        <ImTable2 />\n      </button>\n    </div>\n  );\n};\n\nexport default viewButton;\n","const postOrders = async (data) => {\n\n    const response = await fetch(\"https://pizzaportal.azurewebsites.net/api/SendOrder\",\n        {\n            method: \"POST\",\n            body: JSON.stringify(data)\n        }\n    )\n\n    console.log(response)\n}\n\nexport default postOrders","import React, { useContext } from \"react\";\nimport { CartContext } from \"../components/context/cart-context\";\nimport PizzaItem from \"../components/pizzaItem/PizzaItem\";\nimport styles from \"./CartView.module.scss\"\nimport postOrders from \"../request\";\n\n\nconst CartView = ({isGrid}) => {\n  const { state } = useContext(CartContext);\n\n  // if(state.orders.Length === 0)\n  //   return <Redirect to=\"/\" />\n\n  return (\n    <div className={`${styles.listContainer} ${(isGrid)?styles.grid:\"\"}`}>\n      {state.orders.map((order, index) => (\n        <PizzaItem key={index} {...order} isShopCard={true} {...((isGrid)?{grid:true}:{})}/>\n      ))}\n      <div>{Math.round(state.orders.reduce((prevValue, currValue) => prevValue + currValue.price * currValue.quantity ,0) * 100) / 100}zł</div>\n      <button onClick={()=>postOrders({orders: {...state.orders}})}>Zamawiam</button>\n      </div>\n  );\n};\n\nexport default CartView;\n","import React, { useState } from \"react\";\nimport Header from \"../header/Header\";\nimport PizzaList from \"../pizzaList/PizzaList\";\nimport ViewButton from \"../view-button/ViewButton\";\nimport { Route } from \"react-router-dom\";\nimport CartView from \"./../../views/CartView\";\nfunction PizzaOrdering() {\n  const [isGrid, setIsGrid] = useState(false);\n  return (\n    <div>\n      <Header title=\"Trattoria la React\" />\n        <ViewButton isGrid={isGrid} setIsGrid={setIsGrid} />\n        <Route path=\"/\" exact>\n        <PizzaList isGrid={isGrid} />\n      </Route>\n      <Route path=\"/cart\"  exact >\n        <CartView isGrid={isGrid}/>\n      </Route>\n    </div>\n  );\n}\n\nexport default PizzaOrdering;\n","import React from \"react\";\nimport CartButton from \"./../components/cart-button/CartButton\";\nimport PizzaOrdering from \"./../components/pizzaOrdering/PizzaOrdering\";\n\nconst MainView = () => {\n  return (\n    <div className=\"App\">\n      <CartButton />\n      <PizzaOrdering />\n    </div>\n  );\n};\n\nexport default MainView;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './styles/global.scss';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { StateProvider } from \"./components/context/cart-context\";\nimport MainView from \"./views/MainView\";\n\n// const Routes = () => <StateProvider></StateProvider>;\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <MainView />\n      </BrowserRouter>\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pizza_box\":\"PizzaItem_pizza_box___UwO0\",\"pizza_name\":\"PizzaItem_pizza_name__15-HN\",\"pizza_image\":\"PizzaItem_pizza_image__291vv\",\"pizza_descr\":\"PizzaItem_pizza_descr__26Dxt\",\"pizza_wrapper\":\"PizzaItem_pizza_wrapper__1cXnN\",\"pizza_size\":\"PizzaItem_pizza_size__3j_vn\",\"grid\":\"PizzaItem_grid__37Bbw\"};"],"sourceRoot":""}